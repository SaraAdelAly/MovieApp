<div class="container">
  <h2>Regiter</h2>
<!-- <div *ngIf="errorMessage" class="error-message">
  {{ errorMessage }}
</div> -->
<form class="row form-group" (ngSubmit)="onRegister()" enctype="multipart/form-data" [formGroup]="registerForm" >
  <div class="mb-2 col-md-6">
      <input [class.is-valid]="!registerForm.controls['name'].errors" type="text" 
      formControlName="name" class="form-control main bg-transparent "name="name" placeholder="Name" required>
          <div class="mt-20" *ngIf="registerForm.controls['name'].errors && 
          (registerForm.controls['name'].touched || registerForm.controls['name'].dirty)">
            <small *ngIf="registerForm.controls['name'].errors?.['required']"  
            class="form-text text-danger">required</small>
            <small *ngIf="registerForm.controls['name'].errors?.['maxlength']"  
            class="form-text text-danger">Max Length is 20</small>
            <small *ngIf="registerForm.controls['name'].errors?.['minlength']"  
            class="form-text text-danger">Min Length is 3</small>
          </div>
  </div>
  <div class="mb-2 col-md-6">
      <input (input)="validateEmail()" [(ngModel)]="email" [class.is-valid]="!emailExists && !registerForm.controls['email'].errors" type="email" formControlName="email"
          class="text-white form-control main bg-transparent " name="email"
          placeholder="Email" required>
          <div class="mt-20" *ngIf="emailExists || registerForm.controls['email'].errors  &&
          (registerForm.controls['email'].touched || registerForm.controls['email'].dirty)">
            <small *ngIf="registerForm.controls['email'].errors?.['required']"  
            class="form-text text-danger">required</small>
            <small *ngIf="registerForm.controls['email'].errors?.['email']"  
            class="form-text text-danger">should be valid email </small>
            <small  *ngIf="emailExists"  
            class="mt-20 form-text text-danger">should be unique email </small>
          </div>
         
          
  </div>
  <div class="mb-2 col-md-6">
      <input [class.is-valid]="!registerForm.controls['password'].errors" type="password" formControlName="password"
          class="form-control main bg-transparent " name="password" placeholder="Password"
          required>
          <div class="mt-20" *ngIf="registerForm.controls['password'].errors && 
          (registerForm.controls['password'].touched||  registerForm.controls['password'].dirty)">
            <small *ngIf="registerForm.controls['password'].errors?.['required']"  
            class="form-text text-danger">required</small>
            <small *ngIf="registerForm.controls['password'].errors?.['maxlength']"  
            class="form-text text-danger">Max Length is 20</small>
            <small *ngIf="registerForm.controls['password'].errors?.['minlength']"  
            class="form-text text-danger">Min Length is 5</small>
          </div>
  </div>
  
  <button [disabled]="emailExists || !registerForm.valid" type="submit" class="btn btn-primary">
    Register Now
  </button>
  <div class="mt-5 col-9 w-60">
      <label class="">Have an account</label>
      <button routerLink="/login"
          class="col-4 orange-hover btn btn-white btn-white-md ">Login</button>
  </div>
</form>
</div>
